reticulate::repl_python()
import numpy as np
import numpy as np
import pandas as pd
import motplotlib.pyplot as plt
import matplotlib.pyplot as plt
dataset = pd.read_csv("./baseball_salary.csv")
dataset = pd.read_csv("../baseball_salary.csv")
dataset = pd.read_csv("../Lesson05_Data-Preprocessing/baseball_salary.csv")
View(dataset)
type(dataset)
dataset.head()
dataset.shape
dataset.info()
dataset.index.values
dataset.dolumn.values
dataset.column.values
dataset.columns.values
print(type(dataset.index.values[0]))
print(type(dataset.columns.values[0]))
# 行番号は数値型
print(type(dataset.index.values[0]))
# 列ラベルは文字型
print(type(dataset.columns.values[0]))
dataset.dtypes
dataset['推定年棒']
dataset['推定年棒'].dtype
dataset['推定年俸'].dtype
dataset.descrive()
dataset.describe()
dataset.iloc[:5, 3,6]
dataset.iloc[:5, 3:6]
dataset.loc[:4, '年数':'身長']
dataset[['年数','年齢','身長']][:5]
dataset.query("年数 >= and 打率 >= 0.3").head()
dataset.query("年数 >= 10 and 打率 >= 0.3").head()
dataset2 = dataset[['球団','推定年俸', '打率']]
View(dataset2)
dataset2 = dataset2.rename(column={'球団': 'team', '推定年俸': 'salary', '打率': 'battiing_avg'})
dataset2 = dataset2.rename(columns={'球団': 'team', '推定年俸': 'salary', '打率': 'battiing_avg'})
View(dataset2)
dataset2 .head()
dataset2['salary'].hist(bins=20)
dataset2.plot(kind = 'scatter', x = 'salary', y = 'batting_avg')
dataset2 = dataset2.rename(columns={'球団': 'team', '推定年俸': 'salary', '打率': 'batting_avg'})
dataset2.plot(kind = 'scatter', x = 'salary', y = 'batting_avg')
plt.show(
dataset2['salary'].hist(bins=20)
plt.show(
dataset2['salary'].hist(bins=20)
reticulate::repl_python()
# 必要なライブラリのimport
import numpy as np
import pandas as pd
import matplotlib.pyplot as plt
# CSVファイルの読み込み
dataset = pd.read_csv("../Lesson05_Data-Preprocessing/baseball_salary.csv")
# 日本語を使わないデータフレームを作成
dataset2 = dataset[['球団','推定年俸', '打率']]
dataset2 = dataset2.rename(columns={'球団': 'team', '推定年俸': 'salary', '打率': 'batting_avg'})
dataset2 .head()
dataset2['salary'].hist(bins=20)
plt.show()
plt.show()
ax = dataset2['salary'].hist(bins=20)
ax
ax = dataset2['salary'].hist(bins=20)
plt.show()
dataset2.plot(kind = 'scatter', x = 'salary', y = 'batting_avg')
plt.show()
ax = dataset2.plot(kind = 'scatter', x = 'salary', y = 'batting_avg')
plt.show()
salary_by_team = dataset2[['team','salary']].groupby('team').mean().reset_index()
View(salary_by_team)
plt.show()
tmp = salary_by_team.plot.bar(x='team')
plt.show()
tp3_team = dataset2.query("team in ['g', 'h', 'l']")[['team', 'salary']]
View(tp3_team)
ax = top3_team.boxplot(by = 'team')
ax.set_title('')
ax = top3_team.boxplot(by = 'team')
top3_team = dataset2.query("team in ['g', 'h', 'l']")[['team', 'salary']]
ax = top3_team.boxplot(by = 'team')
ax.set_title('')
plt.show()
# 棒グラフで確認した推定年俸上位３チームである球団 g, h, l の「team, salary」を抜き出し
top3_team = dataset2.query("team in ['g', 'h', 'l']")[['team', 'salary']]
# teamごとのsalaryをboxplotで表示
ax = top3_team.boxplot(by = 'team')
# Boxplot ... の下のタイトル表示を抑制
ax.set_title('')
plt.show()
